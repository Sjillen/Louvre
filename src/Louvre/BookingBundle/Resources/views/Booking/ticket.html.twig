{% extends "LouvreBookingBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - Tickets{% endblock %}
	
{% block body %}
	<div class="col-xs-12 col-sm-offset-4 col-sm-4">
		<div class="progress">
		  <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 50%">
		    <span class="sr-only">50% Complete</span>
		   </div>
		</div>
	</div>

	<div class="well col-xs-8 col-xs-offset-2 col-sm-8 col-sm-offset-2 col-md-offset-3 col-md-6">
		<div class="row">
			
			<div class="col-xs-12 col-sm-offset-1 col-sm-10">
				<h2> Vos informations de réservation:</h2>
			</div>
			<div class="col-xs-offset-3 col-xs-6 col-sm-offset-2 col-sm-8 col-md-offset-1 col-md-6">
				<dl class="dl-horizontal">
					<dt>Référence: </dt>
						<dd>{{ booking.reference }}</dd>
					<dt>Date: </dt>
						<dd>{{ booking.date|date('d/m/Y') }}</dd>
					<dt>Email: </dt>
						<dd>{{ booking.email }}</dd>
					<dt>Type de billet: <dt>
						<dd id="type">{{ booking.type }}</dd>
				</dl>
			</div>
			<div class="col-xs-offset-4 col-xs-2 col-sm-offset-5 col-sm-2">
				<a id="previousBookingPath" href="#"><button type="button" class="btn btn-warning btn-xs"><span class="glyphicon glyphicon-edit"></span> Editer</button></a>
			</div>
		</div>
	</div>
	<div class=" well col-xs-12 col-sm-10 col-sm-offset-1">
    	<h2> Vos tickets</h2>
		<div class="table-responsive">
			<table class="table table-hover table-condensed">
				<thead>
					<tr>
						<th class="col-xs-2">Nom</th>
						<th class="col-xs-2">Prénom</th>
						<th class="col-xs-3">Date de naissance</th>
						<th class="col-xs-2">Pays de résidence</th>
						<th class="col-xs-1">Réduction</th>
						<th class="col-xs-2">Tarif</th>
					</tr>
				</thead>
				{{ form_start(form, { 'attr' : {'class': 'form-horizontal'}}) }}
	  			{{form_errors(form) }}
				{% for ticket in form.tickets %}

				<tr>
					<td>{{ form_widget(ticket.lastName) }}</td>
					<td>{{ form_widget(ticket.firstName) }}</td>
					<td>{{ form_widget(ticket.age) }}</td>
					<td>{{ form_widget(ticket.country) }}</td>
					<td class="discount">
						{{ form_widget(ticket.discount, {'attr': {'class': 'form-control','data-toggle': 'tooltip','data-placement': 'right', 'title': 'étudiant, employé du musée, d’un service du Ministère de la Culture, militaire…'}}) }}
					</td>
					<td><span class="priceDisplayed" data-toggle="tooltip" data-placement="right" title="Tout bénéficiaire de tarif préférentiel devra fournir un justificatif à l'entrée du musée">16</span> €</td>
				</tr>
				{% endfor %}
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td><strong>Montant total</strong></td>
					<td> <strong><span id="total">--</span>€</strong></td>
				</tr>
			</table>
		</div> <!-- .table-responsive -->
		<div id ="saveTickets" class="col-sm-6 col-sm-offset-3">
			<div>
				{{ form_widget(form.save, {'label' : 'Suivant', 'attr': {'class' : 'btn btn-primary btn-lg btn-block'}}) }}
			</div>
		</div>	  
	  {{ form_end(form) }}	
	</div>	
</div>
{% endblock %}


